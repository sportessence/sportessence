name: Keep Supabase Alive

on:
  schedule:
    # Esegue ogni mattina alle 09:00 italiane circa (08:00 UTC)
    - cron: '0 8 * * *'
  workflow_dispatch: # FONDAMENTALE: Ti permette di lanciarla a mano col pulsante

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Sveglia il Database
        # curl fa una richiesta reale.
        # -f fa fallire l'azione se il sito risponde 404 o 500 (cos√¨ ti arriva la notifica di errore)
        # -L segue eventuali redirect
        run: curl -f -L https://www.sportessence.it/api/keepalive